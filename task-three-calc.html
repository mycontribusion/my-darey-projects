<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./task-three-calc.css">
</head>
<body>
    <div>
        <div>
            <input type="text" id="input-feild">
        </div>
        <div class="buttons">
            <button class="numbers">1</button>
            <button class="numbers">2</button>
            <button class="numbers">3</button>
            <button class="numbers">4</button>
            <button class="numbers">5</button>
            <button class="numbers">6</button>
            <button class="numbers">7</button>
            <button class="numbers">8</button>
            <button class="numbers">9</button>
            <button class="numbers">0</button>
            <button class="operators">+</button>
            <button class="operators">-</button>
            <button class="operators">/</button>
            <button class="operators">*</button>
            <button>=</button>
            <button>!</button>
        </div>
    </div>

    <script>
        
const btn = document.querySelectorAll('.buttons button');
    btn.forEach((button) => {
        button.addEventListener('click', () => {
            let value = button.value || button.innerText;
            let operators = ["+","-","*","/"];
            
            if (value == '!') {

                //console.log(value);
                clearField();
            } else if (operators.includes(value)) {
                let content = document.getElementById("input-feild").value;
                lengthofcontent = content.length;
                //console.log(lengthofcontent);
                let laststring = content[lengthofcontent-1];
                //console.log(content);
                //console.log(laststring);
                if (document.getElementById("input-feild").value =='') {
                    document.getElementById("input-feild").value ==''
                } else if (operators.includes(laststring)){
                }
                
                else {
                document.getElementById("input-feild").value += value;
            }
            } else if (value == '='){
                let content = document.getElementById("input-feild").value;
                lengthofcontent = content.length;
                //console.log(lengthofcontent);
                let laststring = content[lengthofcontent-1];
                //console.log(content);
                //console.log(laststring);
                if (operators.includes(laststring)){
                    content = content.slice(0, content.length - 1);
                    console.log(content);
                    //calculateContent();
                    document.getElementById("input-feild").value = new Function('return ' + content)();
                } else {
                    //calculateContent();
                    document.getElementById("input-feild").value = new Function('return ' + document.getElementById("input-feild").value)();
                }
                
            } else {
                document.getElementById("input-feild").value += value;
            }
        });
    });

    function clearField() {
        document.getElementById("input-feild").value = '';
    };

    function calculateContent() {
        
        //document.getElementById("input-feild").value = new Function('return ' + document.getElementById("input-feild").value)();
    };

    </script>
    
</body>
</html>